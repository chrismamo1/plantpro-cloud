<!DOCTYPE html>
<html>
	<head>
		<html lang="en"/>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		  <link rel="stylesheet" type="text/css" href="css/main.css">
		<title>PlantPi: Control Panel</title>

		<!--Shortcut icon-->
		<link rel="shortcut icon" href="https://d30y9cdsu7xlg0.cloudfront.net/png/3973-200.png" />
	</head>
	<body>
		<script>
			var plantname = "Maple";
		</script>
		<!--Begin NavBar-->
		<nav class="navbar navbar-inverse bg-inverse navbar-fixed-top">
			<div class="container-fluid">
	    			<div class="navbar-header">
	    				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#TheNavBar"
					            	<span class="icon-bar"></span>
					           	<span class="icon-bar"></span>
					           	<span class="icon-bar"></span>
				        	</button>
	     				<a class="navbar-brand" href="panelbootstrap.html">PlantPi</a>
	    			</div>

	    			<!--Allow for better compatability when resizing-->
	    			<div class="collapse navbar-collapse" id="TheNavBar">
		    			<ul class="nav navbar-nav navbar-right">
					               <li> <a href="settings.html"><span class="glyphicon glyphicon-cog"></span> Settings</a></li>
					               <li><a href="index.html"><span class="glyphicon glyphicon-log-out"></span> Signout</a></li>
					               <li><a id="Leaf"><span class="glyphicon glyphicon-leaf""></span></a></li>

					         	<div id="Easter" class="EasterEgg">
							<div class="EasterEgg-content">
						    		<span class="close">&times;</span>
						    		<img src="https://www.askideas.com/media/39/Yes-Human-Plant-For-Your-Rabbit-Overlords-Funny-Rabbit-Meme-Image.jpg" width="80%" height="80%"></img>
						    	</div>
						</div>
				 	</ul>
				 </div>
			</div>
		</nav>
		<script> //because i was bored EASTEREGG
			var EasterEgg = document.getElementById("Easter");
			var Leaf = document.getElementById("Leaf");
			var xicon = document.getElementsByClassName("close")[0];

			Leaf.onclick = function(){ //When leaf is clicked on
			 	EasterEgg.style.display="block";
			 }
			xicon.onclick = function() { //when "X" icon is clicked on
   				EasterEgg.style.display = "none";
			}
			window.onclick = function(event) { //Close window if user clicks outside the box
				if (event.target == EasterEgg) {
					EasterEgg.style.display = "none";
				}
			}
		</script>
		<!--End NavBar-->

		<br/><br/><br/><br/>

		<div class="container">
			<script>
				//This is just to give the site some more personality
				var num = (Math.floor(Math.random() * 3) + 1); //random from 1 to 3
				if(num == 1){
					document.write("<h1>Let's see how <strong>" + plantname + "</strong> is doing: </h1>");
				}
				else if (num == 2){
					document.write("<h1>This is how <strong>" +plantname+ "</strong> is doing: </h1>");
				}
				else{
					document.write("<h1>Let's observe <strong>" +plantname+ "'s</strong> status:</h1>");
				}
			</script>
			<hr/>
			<!--<h1> Let's see how <strong>"Maple"</strong> is doing:</h1>-->
			<div id="panel" = style="border-style: double; border-width: 2px; border-color: #ccc">
				<div class="innerpanel">
					<h2>Statistics</h2>
					<div class="panel_status">
						<script> //Status snippet
							var txt;
							var stat = "Status: ";
							var lvl1att = 0, lvl2att = 0, lvl3att = 0;  //These are the flags
							var code = 0; //by default

							var celcius = 30;
							var moisture = true;

							//Temp check
							var faren = (celcius * (9/5) + 32);
							if(faren > 110 || faren < 32){
								lvl1att = 1;
							}

							//Moisture check
							if(!moisture){
								lvl2att = 1;
							}

							//Temp = Celcius, Moisture=T or F, uhh what was light?


							//Check for Temperature
							
							//we just need to have a way to figure out what will trigger lvl attention to 1
							//Like the temperature is too high, set off the flag, the moisture is too low,
							//set off the flag, light levels are low (for a duration), set off the flag.
							//This is highly dependant on what type of units we are gonna use though.
							
							//-------------------Determination of attention will go here------------------

							//if 0, no attention needed, if 1, attention is needed
							//lvl1 is temperature, lvl2 is moisture, and lvl3 is light level
							
							//what determines the status display is the sum of all level attention
							var code = lvl1att + lvl2att + lvl3att;

							document.write("<p><strong>" + stat.fontsize(5)  + "</strong> ");

							if(code == 0){
								txt  = "It's All Good :)";
								document.write(txt.fontcolor("#009b09").fontsize(4));
							}
							else if (code == 1 || code == 2){
								txt = "Needs Some Attention!";
								document.write(txt.fontcolor("#b8bf00").fontsize(4));
							}
							else if (code == 3){
								txt = "DANGER!";
								document.write(txt.fontcolor("#cc0000").fontsize(4));
							}							
						</script>
						<br/>
						<div class="attention">
							<script> //Attention needed snippet
								var lvl1 = "Temperature", lvl2 = "Moisture", lvl3 = "Light";
								if(code > 0){
									document.write("<p>Attention needed at: ");
									if(lvl1att){
										document.write(lvl1 + ", ");
									}
									if (lvl2att) {
										document.write(lvl2 + ", ");
									}
									if(lvl3att){
										document.write(lvl3 + " ");
									}
									if(code == 3){
										document.write(" <br/>Take some time to save a life.");
									}
									document.write("</p>");
								}
								else{ //if nothing needs attention, then is "all good" :)
									document.write("<p>Your plant is doing well :)</p>");
								}
							</script>
						</div>
					<br/>
					</div>
					<!--Begin statistics, this will be collected using SQL or the API granted it will return data-->
					<ul> 
						<div id="Level">
							<li>Temperature Level</li> 
						</div>
						<br/>
						<script>
							document.write("<p>Current: " + celcius + "&#8451, " + faren + "&#8457 </p>");
						</script>
						
						<br/>
						<div id="Level">
							<li>Mositure Level</li>
						</div>
						<br/>
						<script>
							if(moisture){
								document.write("<p> There seems to be mositure present :) </p>");
							}
							else{
								document.write("<p>Needs some moisture!</p>");
							}
						</script>
						<br/>
						<div id="Level">
							<li>Light Level</li> 
						</div>
						<br/>
						<p>Bright as this plants future. </p>
						<br/>
					</ul>
					<!--End Statistics-->
				</div>
			</div>	
		</div>
		<div id="version" style="position: bottom-right;">v2.1: prototype</div>
	</body>
</html>